<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulateur Notes Droit EAD</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" type="image/png" sizes="96x96" href="https://favicon-ksup.univ-grenoble-alpes.fr/SITEUI/favicon-96x96.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <img src="https://www.univ-grenoble-alpes.fr/uas/SITEUI/UGA_LOGO_ACCUEIL/logo+bleu.svg" alt="Logo UGA" class="logo-img">
    <h1>Simulateur de Notes - Droit EAD</h1>
    
    <div class="curriculum-selector">
        <select id="curriculum-select" onchange="changeCurriculum()">
            </select>
    </div>
</header>

<div id="loading-msg">Chargement du simulateur...</div>

<div class="container" id="main-app" style="display:none;">

    <div class="grid-semesters">
        <div class="card">
            <h2>Semestre 1</h2>
            <div id="container-s1"></div>
            <div class="status-box" id="status-s1">
                <div class="status-row" id="row-maj-s1"><span>Moyenne Majeures</span><span id="avg-maj-s1">-</span></div>
                <div class="status-row total"><span>Moyenne G√©n√©rale S1</span><span id="avg-gen-s1">-</span></div>
                <div style="text-align:center; margin-top:5px; font-weight:bold; font-size:0.9rem;" id="valid-s1"></div>
            </div>
        </div>

        <div class="card">
            <h2>Semestre 2</h2>
            <div id="container-s2"></div>
            <div class="status-box" id="status-s2">
                <div class="status-row" id="row-maj-s2"><span>Moyenne Majeures</span><span id="avg-maj-s2">-</span></div>
                <div class="status-row total"><span>Moyenne G√©n√©rale S2</span><span id="avg-gen-s2">-</span></div>
                <div style="text-align:center; margin-top:5px; font-weight:bold; font-size:0.9rem;" id="valid-s2"></div>
            </div>
        </div>
    </div>

    <button class="btn-toggle" onclick="toggleRattrapages()">
        <i class="fas fa-calculator"></i> Simuler les Rattrapages
    </button>

    <div class="card rattrapage-section" id="rattrapage-box">
        <div class="rattrapage-header">
            <i class="fas fa-life-ring fa-lg"></i>
            <div>
                <strong>Module de Secours</strong><br>
                <small>Seules les mati√®res non valid√©es (<10) apparaissent. Les bonus DM sont conserv√©s.</small>
            </div>
        </div>
        
        <div class="rattrapage-grid" id="resit-list"></div>
        
        <div class="prediction-box">
            <div style="margin-bottom: 15px; font-size:1.1rem; text-align:center; font-weight:bold;">Objectifs de Validation (Notes √† obtenir)</div>
            <div class="prediction-wrapper">
                <div class="pred-col" style="border-color: rgba(255,255,255,0.4); background:rgba(255,255,255,0.15)">
                    <div class="pred-title pred-main-title">üéØ Ann√©e Compl√®te</div>
                    <div id="resit-maj-col-year"><div id="resit-target-year-maj" class="pred-result"></div></div>
                    <div id="resit-target-year-gen" class="pred-result"></div>
                </div>
                <div class="pred-col">
                    <div class="pred-title">Semestre 1</div>
                    <div id="resit-maj-col-s1"><div id="resit-target-s1-maj" class="pred-result"></div></div>
                    <div id="resit-target-s1-gen" class="pred-result"></div>
                </div>
                <div class="pred-col">
                    <div class="pred-title">Semestre 2</div>
                    <div id="resit-maj-col-s2"><div id="resit-target-s2-maj" class="pred-result"></div></div>
                    <div id="resit-target-s2-gen" class="pred-result"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div style="text-align:center; margin-top:30px; margin-bottom: 20px;">
        <button class="reset-btn" onclick="resetData()"><i class="fas fa-trash"></i> Effacer les donn√©es de ce cursus</button>
    </div>
    
    <div style="font-size: 0.75rem; color: #999; text-align: center; margin-top: 30px; line-height: 1.4;">
        <p><strong>Avertissement :</strong> Ce simulateur a √©t√© r√©alis√© par un √©tudiant. Il n'est ni √©dit√©, ni valid√© par l'Universit√© Grenoble Alpes.</p>
    </div>
</div>

<div class="annual-footer" id="footer-app" style="display:none;">
    <div class="annual-stat" id="footer-maj-stat"><span class="label">Moyenne Majeures Ann√©e</span><span class="value" id="year-maj">-</span></div>
    <div class="annual-stat"><span class="label">Moyenne G√©n√©rale Ann√©e</span><span class="value" id="year-gen">-</span></div>
    <div class="annual-badge" id="year-status">En attente</div>
</div>

<script src="data.js"></script>
<script src="script.js"></script>

</body>
</html>
